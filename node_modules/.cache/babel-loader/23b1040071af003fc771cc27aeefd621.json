{"ast":null,"code":"var _jsxFileName = \"/home/npr/Downloads/Final FrontEnd (2)/src/components/Login.js\";\n// import React from 'react';\n// import { styled } from '@mui/material/styles';\n// import Box from '@mui/material/Box';\n// import Paper from '@mui/material/Paper';\n// import Grid from '@mui/material/Grid';\n// import TextField from '@mui/material/TextField';\n// import Button from '@mui/material/Button';\n// import { Link } from 'react-router-dom';\n// import axios from 'axios';\n// import { useHistory } from \"react-router-dom\";\n// const Item = styled(Paper)(({ theme }) => ({\n//     backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n//     ...theme.typography.body2,\n//     padding: theme.spacing(1),\n//     textAlign: 'center',\n//     color: theme.palette.text.secondary,\n// }));\n// export default class Login extends React.Component {\n//     constructor(props){\n//         super(props);\n//         this.state = {\n//             username: '',\n//             password: '',\n//             registerFlag:false,\n//             registerSuccess:false,\n//             userNotFoundError:false,\n//             registrationSuccessfull:false,\n//         }\n//         this.handleLogin= this.handleLogin.bind(this);\n//     }\n//     componentDidMount(){\n//         console.log(this.props)\n//     }\n//     handleChange = (e) => {\n//         this.setState({\n//             [e.target.id]: e.target.value\n//         })\n//     }\n//     // handleLogin = () => {\n//     //     console.log(this.state)\n//     //     let data={\n//     //         userName:this.state.username,\n//     //         password:this.state.password\n//     //     }\n//     //     axios.post('http://localhost:8080/login',data)\n//     //     .then((response)=>{\n//     //         console.log(response);\n//     //         if(response.data.response){\n//     //             console.log(response.data.response)\n//     //             let isAdmin = response.data.response.isAdmin\n//     //             this.props.getLoggedIn(true,isAdmin,response.data.response.userName)\n//     //             // this.props.navigate('/store');\n//     //             this.handleNav()\n//     //         }else{\n//     //             this.setState({\n//     //                 userNotFoundError:true\n//     //             })\n//     //         }\n//     //     }).catch((Err)=>{\n//     //         console.log(Err);\n//     //     })\n//     // }\n//     handleLogin = (event) => {\n// \t\tevent.preventDefault();\n// \t\tthis.setState({ loading: true });\n// \t\tconst userData = {\n// \t\t\temail: this.state.email,\n// \t\t\tpassword: this.state.password\n// \t\t};\n// \t\taxios\n//        .get('http://localhost:8080/users/login', {params:userData})\n// \t\t\t.then((response) => {\n// \t\t\t\tlocalStorage.setItem('AuthToken', `Bearer ${response.data}`);\n// \t\t\t\tthis.setState({\n// \t\t\t\t\tloading: false\n// \t\t\t\t});\n// \t\t\t\thistory.push('/');\n// \t\t\t\twindow.location.reload();\n// \t\t\t})\n// \t\t\t.catch((error) => {\n// \t\t\t\tthis.setState({\n// \t\t\t\t\terrors: error.response.data,\n// \t\t\t\t\tloading: false\n// \t\t\t\t});\n// \t\t\t});\n// \t};\n//     handleNav=()=>{\n//         setTimeout(()=>{\n//             // this.props.navigate('/store')\n//         },2000)\n//     }\n//     handleRegister=()=>{\n//         console.log(this.state)\n//         let data={\n//             userName:this.state.username,\n//             password:this.state.password\n//         }\n//         axios.post('http://localhost:3001/signup',data)\n//         .then((response)=>{\n//             console.log(response);\n//             this.setState({\n//                 userNotFoundError:false,\n//                 registerSuccess:true,\n//             })\n//         }).catch((Err)=>{\n//             console.log(Err);\n//         })\n//     }\n//     render() {\n//         return (\n//             <div><br />\n//                 <Grid container spacing={2}>\n//                     <Grid item xs={4}>\n//                         {/* <Item>xs=4</Item> */}\n//                     </Grid>\n//                     <Grid item xs={4}>\n//                         {this.state.registerFlag?<b>Register</b>:<b>Login</b>}<br/><br/>\n//                         {this.state.registerSuccess?<b>User Registered Successfully</b>:null}<br/><br/>\n//                         {this.state.userNotFoundError?<sup style={{color:'red'}}>User not found</sup>:null}<br/><br/>\n//                         <TextField\n//                             required\n//                             id=\"username\"\n//                             label=\"username\"\n//                             onChange={this.handleChange}\n//                         /><br /><br />\n//                         <TextField\n//                             label=\"Password\"\n//                             type=\"password\"\n//                             id=\"password\"\n//                             onChange={this.handleChange}\n//                             autoComplete=\"current-password\" />\n//                     </Grid>\n//                     <Grid item xs={4}>\n//                         {/* <Item>xs=4</Item> */}\n//                     </Grid>\n//                     <Grid item xs={4}>\n//                     </Grid>\n//                     <Grid item xs={4}>\n//                         <Button hidden={this.state.registerFlag} onClick={() => this.handleLogin()} variant=\"contained\"> Login</Button> \n//                         <Button onClick={() => this.handleRegister()} variant=\"contained\"> Register</Button> \n//                     </Grid>\n//                     <Grid item xs={4}>\n//                     </Grid>\n//                 </Grid>\n//             </div>\n//         )\n//     }\n// }\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Button';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/ShoppingBasket';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { createBrowserHistory } from 'history';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const history = createBrowserHistory();\n\nconst styles = theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    backgroundColor: \"#FFDEAD\",\n    padding: \"20px\"\n  },\n  avatar: {\n    margin: theme.spacing(2),\n    backgroundColor: 'white'\n  },\n  form: {\n    width: '100%',\n    backgroundImage: \"/home/npr/Downloads/Copy of Jewelry Shop Facebook Post Image - Made with PosterMyWall.jpg\",\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  customError: {\n    color: 'red',\n    fontSize: '0.8rem',\n    marginTop: 10\n  },\n  progess: {\n    position: 'absolute'\n  }\n});\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.get('/users/login', {\n        params: userData\n      }).then(response => {\n        localStorage.setItem('AuthToken', `Bearer ${response.data}`);\n        this.setState({\n          loading: false\n        });\n        history.push('/');\n        window.location.reload();\n      }).catch(error => {\n        this.setState({\n          errors: error.response.data,\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      errors: [],\n      loading: false\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\"errors\" in nextProps.UI) {\n      if (nextProps.UI.errors) {\n        this.setState({\n          errors: nextProps.UI.errors\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      errors,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(\"https://cdn.motocms.com/src/868x580/72100/72180-original-1200.jpg\")`,\n        backgroundposition: \"center\",\n        backgroundrepeat: \"repeat\",\n        backgroundSize: \"cover\",\n        height: \"100vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        component: \"main\",\n        maxWidth: \"xs\",\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.paper,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.avatar,\n            children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h5\",\n            children: \"User SignIn Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"email\",\n              label: \"Email Address\",\n              name: \"email\",\n              autoComplete: \"email\",\n              autoFocus: true,\n              helperText: errors.email,\n              error: errors.email ? true : false,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              id: \"password\",\n              autoComplete: \"current-password\",\n              helperText: errors.password,\n              error: errors.password ? true : false,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              color: \"primary\",\n              className: classes.submit,\n              onClick: this.handleSubmit,\n              disabled: loading || !this.state.email || !this.state.password,\n              children: [\"Login\", loading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 30,\n                className: classes.progess\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"signup\",\n                  variant: \"body2\",\n                  children: \"New User? Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 7\n            }, this), errors.general && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              className: classes.customError,\n              children: errors.general\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["/home/npr/Downloads/Final FrontEnd (2)/src/components/Login.js"],"names":["React","Component","Avatar","Button","CssBaseline","TextField","Link","Grid","LockOutlinedIcon","Typography","withStyles","Container","CircularProgress","createBrowserHistory","axios","history","styles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","backgroundColor","padding","avatar","margin","form","width","backgroundImage","submit","customError","color","fontSize","progess","position","Login","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","loading","userData","email","state","password","get","params","then","response","localStorage","setItem","data","push","window","location","reload","catch","error","errors","componentWillReceiveProps","nextProps","UI","render","classes","backgroundposition","backgroundrepeat","backgroundSize","height","general"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,SAASC,oBAAT,QAAqC,SAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,OAAO,MAAMC,OAAO,GAAGF,oBAAoB,EAApC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","sourcesContent":["// import React from 'react';\r\n// import { styled } from '@mui/material/styles';\r\n// import Box from '@mui/material/Box';\r\n// import Paper from '@mui/material/Paper';\r\n// import Grid from '@mui/material/Grid';\r\n// import TextField from '@mui/material/TextField';\r\n// import Button from '@mui/material/Button';\r\n// import { Link } from 'react-router-dom';\r\n// import axios from 'axios';\r\n// import { useHistory } from \"react-router-dom\";\r\n// const Item = styled(Paper)(({ theme }) => ({\r\n//     backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\r\n//     ...theme.typography.body2,\r\n//     padding: theme.spacing(1),\r\n//     textAlign: 'center',\r\n//     color: theme.palette.text.secondary,\r\n// }));\r\n\r\n// export default class Login extends React.Component {\r\n//     constructor(props){\r\n//         super(props);\r\n//         this.state = {\r\n//             username: '',\r\n//             password: '',\r\n//             registerFlag:false,\r\n//             registerSuccess:false,\r\n//             userNotFoundError:false,\r\n//             registrationSuccessfull:false,\r\n//         }\r\n//         this.handleLogin= this.handleLogin.bind(this);\r\n//     }\r\n//     componentDidMount(){\r\n//         console.log(this.props)\r\n//     }\r\n    \r\n//     handleChange = (e) => {\r\n//         this.setState({\r\n//             [e.target.id]: e.target.value\r\n//         })\r\n//     }\r\n\r\n//     // handleLogin = () => {\r\n//     //     console.log(this.state)\r\n//     //     let data={\r\n//     //         userName:this.state.username,\r\n//     //         password:this.state.password\r\n//     //     }\r\n//     //     axios.post('http://localhost:8080/login',data)\r\n//     //     .then((response)=>{\r\n//     //         console.log(response);\r\n//     //         if(response.data.response){\r\n//     //             console.log(response.data.response)\r\n//     //             let isAdmin = response.data.response.isAdmin\r\n                \r\n//     //             this.props.getLoggedIn(true,isAdmin,response.data.response.userName)\r\n//     //             // this.props.navigate('/store');\r\n//     //             this.handleNav()\r\n//     //         }else{\r\n//     //             this.setState({\r\n//     //                 userNotFoundError:true\r\n//     //             })\r\n//     //         }\r\n//     //     }).catch((Err)=>{\r\n//     //         console.log(Err);\r\n            \r\n//     //     })\r\n//     // }\r\n//     handleLogin = (event) => {\r\n// \t\tevent.preventDefault();\r\n// \t\tthis.setState({ loading: true });\r\n// \t\tconst userData = {\r\n// \t\t\temail: this.state.email,\r\n// \t\t\tpassword: this.state.password\r\n// \t\t};\r\n// \t\taxios\r\n//        .get('http://localhost:8080/users/login', {params:userData})\r\n// \t\t\t.then((response) => {\r\n// \t\t\t\tlocalStorage.setItem('AuthToken', `Bearer ${response.data}`);\r\n// \t\t\t\tthis.setState({\r\n// \t\t\t\t\tloading: false\r\n// \t\t\t\t});\r\n// \t\t\t\thistory.push('/');\r\n// \t\t\t\twindow.location.reload();\r\n// \t\t\t})\r\n// \t\t\t.catch((error) => {\r\n// \t\t\t\tthis.setState({\r\n// \t\t\t\t\terrors: error.response.data,\r\n// \t\t\t\t\tloading: false\r\n// \t\t\t\t});\r\n// \t\t\t});\r\n// \t};\r\n\r\n\r\n//     handleNav=()=>{\r\n//         setTimeout(()=>{\r\n//             // this.props.navigate('/store')\r\n//         },2000)\r\n//     }\r\n\r\n//     handleRegister=()=>{\r\n//         console.log(this.state)\r\n//         let data={\r\n//             userName:this.state.username,\r\n//             password:this.state.password\r\n//         }\r\n//         axios.post('http://localhost:3001/signup',data)\r\n//         .then((response)=>{\r\n//             console.log(response);\r\n//             this.setState({\r\n//                 userNotFoundError:false,\r\n//                 registerSuccess:true,\r\n//             })\r\n//         }).catch((Err)=>{\r\n//             console.log(Err);\r\n//         })\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div><br />\r\n//                 <Grid container spacing={2}>\r\n\r\n//                     <Grid item xs={4}>\r\n//                         {/* <Item>xs=4</Item> */}\r\n//                     </Grid>\r\n//                     <Grid item xs={4}>\r\n//                         {this.state.registerFlag?<b>Register</b>:<b>Login</b>}<br/><br/>\r\n//                         {this.state.registerSuccess?<b>User Registered Successfully</b>:null}<br/><br/>\r\n//                         {this.state.userNotFoundError?<sup style={{color:'red'}}>User not found</sup>:null}<br/><br/>\r\n                        \r\n//                         <TextField\r\n//                             required\r\n//                             id=\"username\"\r\n//                             label=\"username\"\r\n//                             onChange={this.handleChange}\r\n//                         /><br /><br />\r\n//                         <TextField\r\n//                             label=\"Password\"\r\n//                             type=\"password\"\r\n//                             id=\"password\"\r\n//                             onChange={this.handleChange}\r\n//                             autoComplete=\"current-password\" />\r\n//                     </Grid>\r\n//                     <Grid item xs={4}>\r\n//                         {/* <Item>xs=4</Item> */}\r\n//                     </Grid>\r\n//                     <Grid item xs={4}>\r\n\r\n//                     </Grid>\r\n//                     <Grid item xs={4}>\r\n//                         <Button hidden={this.state.registerFlag} onClick={() => this.handleLogin()} variant=\"contained\"> Login</Button> \r\n//                         <Button onClick={() => this.handleRegister()} variant=\"contained\"> Register</Button> \r\n                        \r\n//                     </Grid>\r\n//                     <Grid item xs={4}>\r\n                    \r\n//                     </Grid>\r\n\r\n\r\n//                 </Grid>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\nimport React, { Component } from 'react';\r\nimport Avatar from '@material-ui/core/Button';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/ShoppingBasket';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { createBrowserHistory } from 'history';\r\nimport axios from 'axios';\r\nexport const history = createBrowserHistory();\r\n\r\nconst styles = (theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t\tbackgroundColor:\"#FFDEAD\",\r\n\t\t\r\n\t\tpadding:\"20px\",\r\n\t\t\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(2),\r\n\t\tbackgroundColor: 'white'\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%',\r\n\t\tbackgroundImage:\"/home/npr/Downloads/Copy of Jewelry Shop Facebook Post Image - Made with PosterMyWall.jpg\",\r\n\t\tmarginTop: theme.spacing(1)\r\n\t\t\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2)\r\n\t},\r\n\tcustomError: {\r\n\t\tcolor: 'red',\r\n\t\tfontSize: '0.8rem',\r\n\t\tmarginTop: 10\r\n\t},\r\n\tprogess: {\r\n\t\tposition: 'absolute'\r\n\t}\r\n});\r\n\r\nclass Login extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\temail: '',\r\n\t\t\tpassword: '',\r\n\t\t\terrors: [],\r\n\t\t\tloading: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif(\"errors\" in nextProps.UI){\r\n\t\t\tif (nextProps.UI.errors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrors: nextProps.UI.errors\r\n\t\t\t});\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\thandleChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t});\r\n\t};\r\n\r\n\thandleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ loading: true });\r\n\t\tconst userData = {\r\n\t\t\temail: this.state.email,\r\n\t\t\tpassword: this.state.password\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.get('/users/login', {params:userData})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlocalStorage.setItem('AuthToken', `Bearer ${response.data}`);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t\thistory.push('/');\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\terrors: error.response.data,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t\r\n\t\t\t \r\n\t\tconst { classes } = this.props;\r\n\t\tconst { errors, loading } = this.state;\r\n\t\treturn (\r\n\t\t\t<div style={{ \r\n                backgroundImage: `url(\"https://cdn.motocms.com/src/868x580/72100/72180-original-1200.jpg\")`,\r\n                \r\n                backgroundposition: \"center\",\r\n                backgroundrepeat: \"repeat\",\r\n                backgroundSize: \"cover\",\r\n                height:\"100vh\"\r\n             }}>\r\n\t\t\t\t \t\r\n\t\t\t\r\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t\tUser SignIn Page\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\thelperText={errors.email}\r\n\t\t\t\t\t\t\terror={errors.email ? true : false}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\thelperText={errors.password}\r\n\t\t\t\t\t\t\terror={errors.password ? true : false}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\tonClick={this.handleSubmit}\r\n\t\t\t\t\t\t\tdisabled={loading || !this.state.email || !this.state.password}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t{loading && <CircularProgress size={30} className={classes.progess} />}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Link href=\"signup\" variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t{\"New User? Register\"}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{errors.general && (\r\n\t\t\t\t\t\t\t<Typography variant=\"body2\" className={classes.customError}>\r\n\t\t\t\t\t\t\t\t{errors.general}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\r\n\t\t\t</Container>\r\n\t\t\t</div>\t\r\n\t\t);\r\n\t\t}\r\n\r\n\t\t\r\n\t\r\n}\r\n\r\nexport default withStyles(styles)(Login);\r\n"]},"metadata":{},"sourceType":"module"}